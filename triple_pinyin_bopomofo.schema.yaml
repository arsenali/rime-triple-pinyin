# Rime schema
# encoding: utf-8

schema:
  schema_id: triple_pinyin_bopomofo
  name: ä¸‰ç¢¼æ³¨éŸ³
  version: "1.2"
  author:
    - ä½›æŒ¯ <chen.sst@gmail.com>
    - é˜¿æ£®ç´è£¡ <15678407@qq.com>
  description: |
    15éµå…§å¯¦ç¾â€œè²æ¯+ä»‹éŸ»+å»é‡ç¢¼&è²èª¿â€ä¸‰ç¢¼è¼¸å…¥ä¸€å€‹å¸¶èª¿éŸ³ç¯€ï¼›
    åŸºç¤éŸ»æ¯æŒ‰æ‰€åœ¨ä½ç½®åˆ†ç‚ºå››å€ï¼šã„š/ã„/ã„¢,ã„›/ã„Ÿ/ã„£,ã„œ/ã„ /ã„¤,ã„/ã„¡/ã„¥ï¼›
    ç¬¬äºŒç¢¼è¼¸å…¥ä»‹æ¯å’ŒéŸ»æ¯æ‰€åœ¨å€åŸŸï¼Œç¬¬ä¸‰ç¢¼è¼¸å…¥ç¢ºåˆ‡éŸ»æ¯å’Œè²èª¿ï¼›
    ã„§=ã„§ã„Ÿ,ã„¨=ã„¨ã„ ,ã„©=ã„©ã„ ,ã„¦=ã„©ã„šã€‚
  dependencies:
    - luna_pinyin
    - stroke

switches:
  - name: ascii_mode
    reset: 0
    states: [ ä¸­æ–‡, è¥¿æ–‡ ]
    
  - name: full_shape
    states: [ åŠè§’, å…¨è§’ ]
    
  - name: simplification
    reset: 1
    states: [ ç¹é«”, ç®€ä½“ ]
    
  - name: ascii_punct
    states: [ ï¼Œã€‚, ï¼Œï¼ ]
    
  - options: [ VOICE_ASSIST1 ]
    states: [ "ğŸ™" ]
    
  - options: [ _Keyboard_emoji ]
    states: [ "ğŸ˜Š" ]
    
  - options: [ _Keyboard_symbols ]
    states: [ "ğŸ”£" ]
    
  - options: [ _Keyboard_clip ]
    states: [ "ğŸ“‹" ]
    
  - options: [ Menu ]
    states: [ "æ–¹æ¡ˆ" ]
    
  - options: [ Theme_settings ]
    states: [ "ä¸»é¢˜" ]
    
  - options: [ Color_switch ]
    states: [ "é…è‰²" ]
    
  - options: [ Hint_switch ]
    states: [ "åŠ©è®°" ]
    
  - options: [ IME_switch ]
    states: [ "ğŸŒ" ]

engine:
  processors:
    - ascii_composer
    - recognizer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor  # ç·¨è¼¯å™¨
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - reverse_lookup_translator@luna_pinyin_lookup
    - reverse_lookup_translator@stroke_lookup
    - script_translator
  filters:
    - simplifier
    - uniquifier

speller:
  alphabet: 'zyxwvutsrqponmlkjihgfedcba'
  delimiter: " ;'"
  # auto_clear: auto # manual|auto|max_length ç©ºç¢¼æŒ‰ä¸‹ä¸€éµç¢ºèªæ¸…å±|ç©ºç¢¼è‡ªå‹•æ¸…å±|é”åˆ°æœ€é•·ç¢¼æ™‚å¾Œç¢¼é ‚ä¸Šæ¸…å±
  algebra:
   # éŸ³ç¯€ä¿®æ­£åˆä½µ
    - erase/^xx$/
    - xform/^m([1-5])$/mu$1/        # é¼»éŸ³mï¼ˆå‘£ï¼‰è½‰åŒ–çˆ²mu
    - xform/^r5$/er5/               # r5ï¼ˆå…’ï¼‰è½‰åŒ–çˆ²er5
    # - xform/^eh([1-5])$/e$1/        # æ¨¡ç³ŠéŸ³ï¼šehï¼ˆèª’æ¬¸ï¼‰ã€eåˆä½µ
    - xform/^wong([1-5])$/weng$1/   # æ¨¡ç³ŠéŸ³ï¼šwongã€wengåˆä½µ
   # æ‹¼éŸ³å®Œæ•´å½¢å¼
    - xform/^([jqx])u/$1v/
    - xform/iu/iou/
    - xform/ui/uei/
    - xform/ong/ung/
    - xform/^yi?/i/
    - xform/^wu?/u/
    - xform/iu/v/
    - xform/([iuv])n/$1en/
   # ç•°æ‹¼
    # - derive/^([jqx])?veng/$1iong/            # veng->iong
    # - derive/^(\w|[zcs]h)ueng/$1ong/          # ueng->ong
   # å°–éŸ³è™•ç†
    - xform/^ziao([1-5])$/buai$1/
    - xform/^zii([1-5])$/buei$1/
    - xform/^zi(\w+[1-5])$/bu$1/
    - xform/^z(v\w*[1-5])$/b$1/
    - xform/^ciao([1-5])$/puai$1/
    - xform/^cii([1-5])$/puei$1/
    - xform/^ci(\w+[1-5])$/pu$1/
    - xform/^c(v\w*[1-5])$/p$1/
    - xform/^siao([1-5])$/muai$1/
    - xform/^sii([1-5])$/muei$1/
    - xform/^si(\w+[1-5])$/mu$1/
    - xform/^s(v\w*[1-5])$/m$1/
   # éŸ³ç¯€åˆä½µ
    - xform/^([zcs]h?|r)i([1-5])$/$1o$2/
    - xform/^([zcs])([aoe]\w*)([1-5])$/$1hi$2$3/
    - xform/^([zcs])u(an|eng?|ei|o)?([1-5])$/$1hv$2$3/
    - xform/^fiao([1-5])$/riao$1/
    - xform/^fu(eng)?([1-5])$/rv$1$2/
    - xform/^f(\w+)([1-5])$/ri$1$2/
    
   # ç¬¬1ç¢¼ï¼šè²æ¯
    - xform/^b/Q/
    - xform/^p/W/
    - xform/^m/E/
    - xform/^[fr]/R/
    - xform/^d/A/
    - xform/^t/S/
    - xform/^n/D/
    - xform/^l/F/
    - xform/^[gj]/Z/
    - xform/^[kq]/X/
    - xform/^[hx]/C/
    - xform/^([aoeiuv])/V$1/
    - xform/^zh?/T/
    - xform/^ch?/G/
    - xform/^sh?/B/
   # ç¬¬2ç¢¼ï¼šéŸ»é ­+éŸ»è…¹
    - xform/^([QWERTASDFGZXCVB])(a|ai|an)([1-5])$/$1Q$2$3/
    - xform/^([QWERTASDFGZXCVB])(o|ei|en)([1-5])$/$1W$2$3/
    - xform/^([QWERTASDFGZXCVB])(e|ao|ang)([1-5])$/$1E$2$3/
    - xform/^([QWERTASDFGZXCVB])(eh|ou|eng)([1-5])$/$1R$2$3/
    
    - xform/^([QWERTASDFGZXCVB])(ia|iai|ian)([1-5])$/$1A$2$3/
    - xform/^([QWERTASDFGZXCVB])(io|iei|ien|i)([1-5])$/$1S$2$3/
    - xform/^([QWERTASDFGZXCVB])(iao|iang)([1-5])$/$1D$2$3/
    - xform/^([QWERTASDFGZXCVB])(ie|iou|ieng)([1-5])$/$1F$2$3/
    
    - xform/^([QWERTASDFGZXCVB])(ua|uai|uan)([1-5])$/$1Z$2$3/
    - xform/^([QWERTASDFGZXCVB])(uo|uei|uen)([1-5])$/$1X$2$3/
    - xform/^([QWERTASDFGZXCVB])(uao|uang|u)([1-5])$/$1C$2$3/
    - xform/^([QWERTASDFGZXCVB])(ue|uou|ueng)([1-5])$/$1V$2$3/
    
    - xform/^([QWERTASDFGZXCVB])(va|vai|van|er)([1-5])$/$1T$2$3/
    - xform/^([QWERTASDFGZXCVB])(vo|vei|ven|vao|vang)([1-5])$/$1G$2$3/
    - xform/^([QWERTASDFGZXCVB])(ve|vou|veng|v)([1-5])$/$1B$2$3/
   # ç¬¬3ç¢¼ï¼šéŸ»å°¾+è²èª¿
    - xform/^([QWERTASDFGZXCVB]{2})([iuv]?[aeo]|eh|er)1$/$1Q/
    - xform/^([QWERTASDFGZXCVB]{2})([iuv]?[aeo]|eh|er)2$/$1W/
    - xform/^([QWERTASDFGZXCVB]{2})([iuv]?[aeo]|eh|er)3$/$1E/
    - xform/^([QWERTASDFGZXCVB]{2})([iuv]?[aeo]|eh|er)4$/$1R/
    - xform/^([QWERTASDFGZXCVB]{2})([iuv]?[aeo]|eh|er)5$/$1T/
    
    - xform/^([QWERTASDFGZXCVB]{2})([iuv]?[ae]i|[iuv]?ao|[iuv]?ou|[iuv])1$/$1A/
    - xform/^([QWERTASDFGZXCVB]{2})([iuv]?[ae]i|[iuv]?ao|[iuv]?ou|[iuv])2$/$1S/
    - xform/^([QWERTASDFGZXCVB]{2})([iuv]?[ae]i|[iuv]?ao|[iuv]?ou|[iuv])3$/$1D/
    - xform/^([QWERTASDFGZXCVB]{2})([iuv]?[ae]i|[iuv]?ao|[iuv]?ou|[iuv])4$/$1F/
    - xform/^([QWERTASDFGZXCVB]{2})([iuv]?[ae]i|[iuv]?ao|[iuv]?ou|[iuv])5$/$1G/
    
    - xform/^([QWERTASDFGZXCVB]{2})([iuv]?[ae]ng?)1$/$1Z/
    - xform/^([QWERTASDFGZXCVB]{2})([iuv]?[ae]ng?)2$/$1X/
    - xform/^([QWERTASDFGZXCVB]{2})([iuv]?[ae]ng?)3$/$1C/
    - xform/^([QWERTASDFGZXCVB]{2})([iuv]?[ae]ng?)4$/$1V/
    - xform/^([QWERTASDFGZXCVB]{2})([iuv]?[ae]ng?)5$/$1B/
    
    - erase/^[QWERTASDFGZXCVB][a-z]+/
    - xlit/QWERTYUIOPASDFGHJKLZXCVBNM/qwertyuiopasdfghjklzxcvbnm/
    - erase/^[yuiophjklnm]\w*/
    
   # ç°¡æ‹¼
    - derive/^t([qwertasdfgzxcvb]{2})$/y$1/
    - derive/^g([qwertasdfgzxcvb]{2})$/h$1/
    - derive/^b([qwertasdfgzxcvb]{2})$/n$1/
    - abbrev/^([qwertasdfgzxcvbyhn])[qwertasdfgzxcvb]{2}$/$1/     # é¦–ç¢¼ç°¡æ‹¼
    - derive/^([qwertasdfgzxcvbyhn])t([qwertasdfgzxcvb])$/$1y$2/
    - derive/^([qwertasdfgzxcvbyhn])g([qwertasdfgzxcvb])$/$1h$2/
    - derive/^([qwertasdfgzxcvbyhn])b([qwertasdfgzxcvb])$/$1n$2/
    - derive/^([qwertasdfgzxcvbyhn]{2})[qwertasdfgzxcvb]$/$1/     # å‰å…©ç¢¼ç°¡æ‹¼
    - derive/^([qwertasdfgzxcvbyhn]{2})[qwert]$/$1y/
    - derive/^([qwertasdfgzxcvbyhn]{2})[asdfg]$/$1h/
    - derive/^([qwertasdfgzxcvbyhn]{2})[zxcvb]$/$1n/

translator:
  dictionary: terra_pinyin
  prism: triple_pinyin_bopomofo
  spelling_hints: 4 # ï½å­—ä»¥å…§å€™é¸æ¨™è¨»å®Œæ•´å¸¶èª¿æ‹¼éŸ³
  comment_format:  # æç¤ºç¢¼çˆ²æ³¨éŸ³ç¬¦è™Ÿ
    - xform/([jqx])u(?!.*-)/$1v/
    - xform/iu(?!.*-)/iou/
    - xform/ui(?!.*-)/uei/
    - xform/ong(?!.*-)/ung/
    - xform/yi?(?!.*-)/i/
    - xform/wu?(?!.*-)/u/
    - xform/iu(?!.*-)/v/
    - xform/([iuv])n(?!.*-)/$1en/
    - xform/zh(?!.*-)/Z/
    - xform/ch(?!.*-)/C/
    - xform/sh(?!.*-)/S/
    - xform/ai(?!.*-)/A/
    - xform/ei(?!.*-)/I/
    - xform/ao(?!.*-)/O/
    - xform/ou(?!.*-)/U/
    - xform/ang(?!.*-)/K/
    - xform/eng(?!.*-)/G/
    - xform/an(?!.*-)/M/
    - xform/en(?!.*-)/N/
    - xform/er(?!.*-)/R/
    - xform/eh(?!.*-)/E/
    - xform/([iv])e(?!.*-)/$1E/
    - xform/([ZCSrzcs])i(i|[0-5]|\>)(?!.*-)/$1$2/
    - xform/b(?!.*-)/ã„…/
    - xform/p(?!.*-)/ã„†/
    - xform/m(?!.*-)/ã„‡/
    - xform/f(?!.*-)/ã„ˆ/
    - xform/d(?!.*-)/ã„‰/
    - xform/t(?!.*-)/ã„Š/
    - xform/n(?!.*-)/ã„‹/
    - xform/l(?!.*-)/ã„Œ/
    - xform/g(?!.*-)/ã„/
    - xform/k(?!.*-)/ã„/
    - xform/h(?!.*-)/ã„/
    - xform/j(?!.*-)/ã„/
    - xform/q(?!.*-)/ã„‘/
    - xform/x(?!.*-)/ã„’/
    - xform/Z(?!.*-)/ã„“/
    - xform/C(?!.*-)/ã„”/
    - xform/S(?!.*-)/ã„•/
    - xform/r(?!.*-)/ã„–/
    - xform/z(?!.*-)/ã„—/
    - xform/c(?!.*-)/ã„˜/
    - xform/s(?!.*-)/ã„™/
    - xform/i(?!.*-)/ã„§/
    - xform/u(?!.*-)/ã„¨/
    - xform/v(?!.*-)/ã„©/
    - xform/a(?!.*-)/ã„š/
    - xform/o(?!.*-)/ã„›/
    - xform/e(?!.*-)/ã„œ/
    - xform/E(?!.*-)/ã„/
    - xform/A(?!.*-)/ã„/
    - xform/I(?!.*-)/ã„Ÿ/
    - xform/O(?!.*-)/ã„ /
    - xform/U(?!.*-)/ã„¡/
    - xform/M(?!.*-)/ã„¢/
    - xform/N(?!.*-)/ã„£/
    - xform/K(?!.*-)/ã„¤/
    - xform/G(?!.*-)/ã„¥/
    - xform/R(?!.*-)/ã„¦/
    - xform/1(?!.*-)/Ë‰/
    - xform/2(?!.*-)/ËŠ/
    - xform/3(?!.*-)/Ë‡/
    - xform/4(?!.*-)/Ë‹/
    - xform/5(?!.*-)/Ë™/
    - xform/ //     # å–æ¶ˆç©ºæ ¼

luna_pinyin_lookup:
  tag: luna_pinyin_lookup
  dictionary: luna_pinyin
  enable_completion: true
  prefix: "`"
  suffix: "'"
  tips: ã€”æ‹¼éŸ³åæŸ¥ã€•
  preedit_format:
    - xform/([nl])v/$1Ã¼/
    - xform/([nl])ue/$1Ã¼e/
    - xform/([jqxy])v/$1u/
  comment_format: &comment  # åæŸ¥æç¤ºç¢¼çˆ²ä¸‰ç¢¼æ³¨éŸ³è¼¸å…¥ç¢¼
   # éŸ³ç¯€ä¿®æ­£åˆä½µ
    - erase/\<xx\>/
    - xform/\<m([1-5])\>/mu$1/        # é¼»éŸ³mï¼ˆå‘£ï¼‰è½‰åŒ–çˆ²mu
    - xform/\<r5\>/er5/               # r5ï¼ˆå…’ï¼‰è½‰åŒ–çˆ²er5
    # - xform/\<eh([1-5])\>/e$1/        # æ¨¡ç³ŠéŸ³ï¼šehï¼ˆèª’æ¬¸ï¼‰ã€eåˆä½µ
    - xform/\<wong([1-5])\>/weng$1/   # æ¨¡ç³ŠéŸ³ï¼šwongã€wengåˆä½µ
   # æ‹¼éŸ³å®Œæ•´å½¢å¼
    - xform/\<([jqx])u/$1v/
    - xform/iu/iou/
    - xform/ui/uei/
    - xform/ong/ung/
    - xform/\<yi?/i/
    - xform/\<wu?/u/
    - xform/iu/v/
    - xform/([iuv])n/$1en/
   # ç•°æ‹¼
    # - derive/\<([jqx])?veng/$1iong/            # veng->iong
    # - derive/\<(\w|[zcs]h)ueng/$1ong/          # ueng->ong
   # å°–éŸ³è™•ç†
    - xform/\<ziao([1-5])\>/buai$1/
    - xform/\<zii([1-5])\>/buei$1/
    - xform/\<zi(\w+[1-5])\>/bu$1/
    - xform/\<z(v\w*[1-5])\>/b$1/
    - xform/\<ciao([1-5])\>/puai$1/
    - xform/\<cii([1-5])\>/puei$1/
    - xform/\<ci(\w+[1-5])\>/pu$1/
    - xform/\<c(v\w*[1-5])\>/p$1/
    - xform/\<siao([1-5])\>/muai$1/
    - xform/\<sii([1-5])\>/muei$1/
    - xform/\<si(\w+[1-5])\>/mu$1/
    - xform/\<s(v\w*[1-5])\>/m$1/
   # éŸ³ç¯€åˆä½µ
    - xform/\<([zcs]h?|r)i([1-5])\>/$1o$2/
    - xform/\<([zcs])([aoe]\w*)([1-5])\>/$1hi$2$3/
    - xform/\<([zcs])u(an|eng?|ei|o)?([1-5])\>/$1hv$2$3/
    - xform/\<fiao([1-5])\>/riao$1/
    - xform/\<fu(eng)?([1-5])\>/rv$1$2/
    - xform/\<f(\w+)([1-5])\>/ri$1$2/
    
   # ç¬¬1ç¢¼ï¼šè²æ¯
    - xform/\<b/Q/
    - xform/\<p/W/
    - xform/\<m/E/
    - xform/\<[fr]/R/
    - xform/\<d/A/
    - xform/\<t/S/
    - xform/\<n/D/
    - xform/\<l/F/
    - xform/\<[gj]/Z/
    - xform/\<[kq]/X/
    - xform/\<[hx]/C/
    - xform/\<([aoeiuv])/V$1/
    - xform/\<zh?/T/
    - xform/\<ch?/G/
    - xform/\<sh?/B/
   # ç¬¬2ç¢¼ï¼šéŸ»é ­+éŸ»è…¹
    - xform/\<([QWERTASDFGZXCVB])(a|ai|an)([1-5])\>/$1Q$2$3/
    - xform/\<([QWERTASDFGZXCVB])(o|ei|en)([1-5])\>/$1W$2$3/
    - xform/\<([QWERTASDFGZXCVB])(e|ao|ang)([1-5])\>/$1E$2$3/
    - xform/\<([QWERTASDFGZXCVB])(eh|ou|eng)([1-5])\>/$1R$2$3/
    
    - xform/\<([QWERTASDFGZXCVB])(ia|iai|ian)([1-5])\>/$1A$2$3/
    - xform/\<([QWERTASDFGZXCVB])(io|iei|ien|i)([1-5])\>/$1S$2$3/
    - xform/\<([QWERTASDFGZXCVB])(iao|iang)([1-5])\>/$1D$2$3/
    - xform/\<([QWERTASDFGZXCVB])(ie|iou|ieng)([1-5])\>/$1F$2$3/
    
    - xform/\<([QWERTASDFGZXCVB])(ua|uai|uan)([1-5])\>/$1Z$2$3/
    - xform/\<([QWERTASDFGZXCVB])(uo|uei|uen)([1-5])\>/$1X$2$3/
    - xform/\<([QWERTASDFGZXCVB])(uao|uang|u)([1-5])\>/$1C$2$3/
    - xform/\<([QWERTASDFGZXCVB])(ue|uou|ueng)([1-5])\>/$1V$2$3/
    
    - xform/\<([QWERTASDFGZXCVB])(va|vai|van|er)([1-5])\>/$1T$2$3/
    - xform/\<([QWERTASDFGZXCVB])(vo|vei|ven|vao|vang)([1-5])\>/$1G$2$3/
    - xform/\<([QWERTASDFGZXCVB])(ve|vou|veng|v)([1-5])\>/$1B$2$3/
   # ç¬¬3ç¢¼ï¼šéŸ»å°¾+è²èª¿
    - xform/\<([QWERTASDFGZXCVB]{2})([iuv]?[aeo]|eh|er)1\>/$1Q/
    - xform/\<([QWERTASDFGZXCVB]{2})([iuv]?[aeo]|eh|er)2\>/$1W/
    - xform/\<([QWERTASDFGZXCVB]{2})([iuv]?[aeo]|eh|er)3\>/$1E/
    - xform/\<([QWERTASDFGZXCVB]{2})([iuv]?[aeo]|eh|er)4\>/$1R/
    - xform/\<([QWERTASDFGZXCVB]{2})([iuv]?[aeo]|eh|er)5\>/$1T/
    
    - xform/\<([QWERTASDFGZXCVB]{2})([iuv]?[ae]i|[iuv]?ao|[iuv]?ou|[iuv])1\>/$1A/
    - xform/\<([QWERTASDFGZXCVB]{2})([iuv]?[ae]i|[iuv]?ao|[iuv]?ou|[iuv])2\>/$1S/
    - xform/\<([QWERTASDFGZXCVB]{2})([iuv]?[ae]i|[iuv]?ao|[iuv]?ou|[iuv])3\>/$1D/
    - xform/\<([QWERTASDFGZXCVB]{2})([iuv]?[ae]i|[iuv]?ao|[iuv]?ou|[iuv])4\>/$1F/
    - xform/\<([QWERTASDFGZXCVB]{2})([iuv]?[ae]i|[iuv]?ao|[iuv]?ou|[iuv])5\>/$1G/
    
    - xform/\<([QWERTASDFGZXCVB]{2})([iuv]?[ae]ng?)1\>/$1Z/
    - xform/\<([QWERTASDFGZXCVB]{2})([iuv]?[ae]ng?)2\>/$1X/
    - xform/\<([QWERTASDFGZXCVB]{2})([iuv]?[ae]ng?)3\>/$1C/
    - xform/\<([QWERTASDFGZXCVB]{2})([iuv]?[ae]ng?)4\>/$1V/
    - xform/\<([QWERTASDFGZXCVB]{2})([iuv]?[ae]ng?)5\>/$1B/
    
    - erase/\<[QWERTASDFGZXCVB][a-z]+/
    - xlit/QWERTYUIOPASDFGHJKLZXCVBNM/qwertyuiopasdfghjklzxcvbnm/
    - erase/\<[yuiophjklnm]\w*/
    
   # ç°¡æ‹¼
    # - derive/\<t([qwertasdfgzxcvb]{2})\>/y$1/
    # - derive/\<g([qwertasdfgzxcvb]{2})\>/h$1/
    # - derive/\<b([qwertasdfgzxcvb]{2})\>/n$1/
    # - abbrev/\<([qwertasdfgzxcvbyhn])[qwertasdfgzxcvb]{2}\>/$1/     # é¦–ç¢¼ç°¡æ‹¼
    # - derive/\<([qwertasdfgzxcvbyhn])t([qwertasdfgzxcvb])\>/$1y$2/
    # - derive/\<([qwertasdfgzxcvbyhn])g([qwertasdfgzxcvb])\>/$1h$2/
    # - derive/\<([qwertasdfgzxcvbyhn])b([qwertasdfgzxcvb])\>/$1n$2/
    # - derive/\<([qwertasdfgzxcvbyhn]{2})[qwertasdfgzxcvb]\>/$1/     # å‰å…©ç¢¼ç°¡æ‹¼
    # - derive/\<([qwertasdfgzxcvbyhn]{2})[qwert]\>/$1y/
    # - derive/\<([qwertasdfgzxcvbyhn]{2})[asdfg]\>/$1h/
    # - derive/\<([qwertasdfgzxcvbyhn]{2})[zxcvb]\>/$1n/
   # è®Šå½¢
    - xlit/qwertasdfgzxcvb/QWERTASDFGZXCVB/

stroke_lookup:
  tag: stroke_lookup
  dictionary: stroke
  enable_completion: true
  prefix: "~"
  suffix: "'"
  tips: ã€”ç¬”ç”»åæŸ¥ã€•
  preedit_format:
    - xlit/hspnz/ä¸€ä¸¨ä¸¿ä¸¶ä¹™/
  comment_format: *comment

punctuator:
  import_preset: symbols

key_binder:
  import_preset: default
  bindings:
    - { accept: Return, send: "Shift+Return", when: composing }
    - { accept: "Shift+Return", send: Return, when: composing }
    
    - { accept: minus, send: minus, when: has_menu }
    - { accept: minus, send: Page_Up, when: paging }
    # - { accept: minus, send: Page_Up, when: has_menu }
    # - { accept: equal, send: Page_Down, when: has_menu }
    
    - { accept: comma, send: comma, when: paging }
    # - { accept: comma, send: Page_Up, when: paging }
    - { accept: period, send: period, when: has_menu }
    # - { accept: period, send: Page_Down, when: has_menu }
    
    # - { accept: semicolon, send: 2, when: has_menu }
    # - { accept: apostrophe, send: 3, when: has_menu }
    
    - {accept: "Control+Shift+5", toggle: ascii_punct, when: always}
    - {accept: "Control+Shift+percent", toggle: ascii_punct, when: always}
    
    - {accept: "Control+Shift+F", toggle: simplification, when: always}

recognizer:
  import_preset: default
  patterns:
    email: "^[A-Za-z][-_.0-9A-Za-z]*@.*$"
    uppercase: "[A-Z][-_+.'0-9A-Za-z]*$"
    url: "^(www[.]|https?:|ftp[.:]|mailto:|file:).*$|^[a-z]+[.].+$"
    punct: '^/([0-9]0?|[A-Za-z]+)$'
    luna_pinyin_lookup: "`[a-z]*'?$"
    stroke_lookup: "~[a-z]*'?$"
